# CLI color theme: egirl (purple/pink), midnight (blue/teal), neon (green/cyan), mono (grayscale)
theme = "egirl"

[workspace]
path = "~/.egirl/workspace"

[local]
endpoint = "http://localhost:8080"      # llama.cpp server
model = "qwen3-vl-32b"                   # for display/logging only
context_length = 32768
max_concurrent = 2                       # you have the VRAM for parallel requests

[local.embeddings]
endpoint = "http://localhost:8082"       # Qwen3-VL-Embedding Python service
model = "qwen3-vl-embedding-2b"
dimensions = 2048
multimodal = true                        # supports text + image embeddings

[routing]
default = "local"
escalation_threshold = 0.4               # confidence below this triggers escalation
always_local = ["memory_search", "memory_get", "greeting", "acknowledgment"]
always_remote = ["code_generation", "code_review", "complex_reasoning"]

[channels.discord]
allowed_channels = ["dm"]                # or specific channel IDs
allowed_users = []                       # set your Discord user ID

[channels.api]
port = 3000
host = "127.0.0.1"

[channels.claude_code]
permission_mode = "default"               # local model handles permissions
# model = "sonnet"                       # claude model (sonnet, opus, haiku)
# working_dir = "~/projects/myrepo"      # defaults to cwd
# max_turns = 30                         # safety limit on turns per task

[safety]
enabled = true                             # master switch for all safety features

[safety.command_filter]
enabled = true                             # block dangerous shell commands
# blocked_patterns = ["npm\\s+publish"]    # added on top of built-in blocklist

[safety.path_sandbox]
enabled = false                            # restrict file ops to allowed dirs
# allowed_paths = ["{workspace}", "~/projects"]

[safety.sensitive_files]
enabled = true                             # block access to secrets/keys
# patterns = ["secret\\.yaml$"]            # added on top of built-in patterns

[safety.audit_log]
enabled = true                             # log all tool calls to JSONL
path = "{workspace}/audit.log"

[safety.confirmation]
enabled = false                            # require confirmation for destructive ops
# tools = ["execute_command", "write_file", "edit_file"]

[skills]
dirs = ["~/.egirl/skills", "{workspace}/skills"]
